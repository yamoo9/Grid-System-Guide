if(!("bind" in Function.prototype)){Function.prototype.bind=function(a){var c=this;if(arguments.length<=1){return function(){return c.apply(a,arguments);
};}else{var b=Array.prototype.slice.call(arguments,1);return function(){return c.apply(a,arguments.length===0?b:b.concat(Array.prototype.slice.call(arguments)));
};}};}(function(f,g){var h=f.document,e=h.head,c=null,b;var d={gs_markup:null,gs_style:null,options:{grid:{page_width:960,columns:12,gutter:20,font_size:14,reading:1.5,columns_color:"#fe4940",reading_color:"#2d8b9c"},config:{markup:{prefix:"GS",grid_id:"grid-system",columns_id:"grid-columns",reading_id:"grid-reading",},style:{columns_zindex:10000,reading_zindex:11000,opacity:0.5,}},callback:function(){}},init:function(i){this.extend(i);
this.generateGSM();this.render();this.listen();this.options.callback();return this;},extend:function(i){if(typeof i!="object"||i instanceof Array){return;
}var j=this.options;a(j,i);},generateGSM:function(){var k=this.options.config.markup,j=k.prefix,i=j?"-":"";k.grid_id=j+i+k.grid_id;k.columns=j+i+k.columns_id;
k.reading_id=j+i+k.reading_id;this.gs_markup=['<div id="'+k.grid_id+'">','<div id="'+k.columns_id+'"></div>','<div id="'+k.reading_id+'"></div>',"</div>"].join("");
},generateGSS:function(p){var m=this.options.config.markup,j=this.options.config.style,q=this.options.grid,o=(q.page_width-(q.gutter*q.columns))/q.columns,k="#"+m.grid_id,l="#"+m.columns_id,i="#"+m.reading_id,n=c.clientHeight>0?c.clientHeight+"px":"100%";
this.gs_style="";this.gs_style+=k+"{display: none;}";this.gs_style+=k+".view{display: block;}";this.gs_style+=k+" *{position: absolute; top: 0; height:"+n+";}";
this.gs_style+=k+" "+l+"{opacity: "+j.opacity+";";this.gs_style+="z-index: "+j.columns_zindex+";";this.gs_style+="left: 50%; width:"+q.page_width+"px;";
this.gs_style+="margin-left: "+-q.page_width/2+"px;";this.gs_style+="background-image: linear-gradient(90deg, transparent "+o+"px, "+q.columns_color+" "+q.gutter+"px);";
this.gs_style+="background-size: "+(o+q.gutter)+"px; background-position: "+q.gutter/2+"px;}";this.gs_style+=k+" "+i+"{";this.gs_style+="opacity: "+j.opacity+";";
this.gs_style+="z-index: "+j.reading_zindex+";";this.gs_style+="left: 0; width: 100%;";this.gs_style+="background-image:linear-gradient(0deg, "+q.reading_color+" 1px, transparent 0px);";
this.gs_style+="background-size: "+(q.font_size*q.reading)*1.73+"px;";p();},attachGS:function(){var i=this;if(!c){c=h.body;}c.insertAdjacentHTML("afterbegin",i.gs_markup);
i.generateGSS(function(){e.insertAdjacentHTML("beforeend",'<style id="'+i.options.config.markup.prefix+'">'+i.gs_style+"</style>");});},render:function(){var k=this.attachGS.bind(this),j=this.toggleGrid.bind(this);
if(f.addEventListener){f.addEventListener("DOMContentLoaded",k,false);f.addEventListener("DOMContentLoaded",j,false);}else{var i=f.onload;f.onload=function(){i();
k();j();};}},toggleGrid:function(){if(!b){b=h.getElementById(this.options.config.markup.grid_id);}b.classList.toggle("view");if(typeof h.onkeydown!=="function"){h.onkeydown=function(i){var j=i.keyCode||i.which;
if(j===71){b.classList.toggle("view");}};}},listen:function(){var i=this;}};f.GS=d;function a(j,i){for(var k in i){if(typeof i[k]==="object"){j[k]=a(j[k],i[k]);
}else{if(j[k]){j[k]=i[k];}}}return j;}})(window);